<div ng-controller="TicketsCtrl" class="wrapTicketsCtrl">
    <div class="row wrapper border-bottom white-bg page-heading" >
        <div class="col-lg-10">
            <h2>Issue List</h2>

            <ol class="breadcrumb">
                <li>
                    <a href="index.html">Home</a>
                </li>
                <li>
                    <a>App views</a>
                </li>
                <li class="active">
                    <strong>Issue Tracker</strong>
                </li>
            </ol>
        </div>
        <div class="col-lg-2">
        </div>
    </div>



    <div class="wrapper wrapper-content animated fadeIn" ng-show="showTicket">
        <div class="ibox">
            <div class="ibox-content">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="m-b-md">
                            <a href="#" class="btn btn-white btn-sm pull-right">Edit ticket</a>
                            <h2>TICKET: #001 {{activeTicket.title}}</h2>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6" id="cluster_info">
                        <dl class="dl-horizontal">
                            <dt>Created by:</dt> <dd> <a href>{{activeTicket.createdByUser.contactProfile.firstname}} {{activeTicket.createdByUser.contactProfile.lastname}}</a></dd>
                            <dt>Owner:</dt> <dd>{{activeTicket.createdByUser.contactProfile.firstname}} {{activeTicket.createdByUser.contactProfile.lastname}}</dd>
                            <dt>Client:</dt> <dd><a href="#" class="text-navy"> Zender Company</a> </dd>

                            
                        </dl>
                    </div>
                                        <div class="col-lg-6" id="cluster_info">
                        <dl class="dl-horizontal">
                           
                            <dt>Last Updated:</dt> <dd>16.08.2016 12:15:57</dd>
                            <dt>Created:</dt> <dd>  10.07.2016 23:36:57 </dd>
                            <dt>Participants:</dt>
                            <dd class="project-people">
                                <a href=""><img alt="image" class="img-circle" src="img/a3.jpg"></a>
                                <a href=""><img alt="image" class="img-circle" src="img/a1.jpg"></a>
                                <a href=""><img alt="image" class="img-circle" src="img/a2.jpg"></a>
                                <a href=""><img alt="image" class="img-circle" src="img/a4.jpg"></a>
                                <a href=""><img alt="image" class="img-circle" src="img/a5.jpg"></a>
                            </dd>
                        </dl>
                    </div>
                    <div class="col-lg-12">
                        <dl class="dl-horizontal">
                            <dt>Description:</dt>
                            <dd>Appen har inte bra koll på var man är i förhållande till arbetsplatserna. Jag testade att checka in långt från SEB och det gick självklart inte, men när jag sen kom till SEB, så gick det inte heller, utan jag var tvungen att manuellt uppdatera listan med arbetsplatser för att appen skulle förstå att jag var på SEB. För mycket tamagotchi över det hela</dd>
                        </dl>
                    </div>

                </div>

                
                <div class="row m-t-sm">
<div class="col-lg-12">
<div class="panel blank-panel ui-tab">

<uib-tabset>
    <uib-tab heading="Conversations" active="tab.active" class="dsads">
            <div class="ibox float-e-margins">
<div class="ibox-content ibox-heading">

    <h3><i class="fa fa-envelope-o"></i> Attached conversations
                                                        <button ng-click="newMailDialog = !newMailDialog" type="button" class="btn btn-w-m btn-info pull-right">New email</button>

    </h3>
                    <p>
                        All clients need to be verified before you can send email and set a project.
                    </p>
                    <div class="input-group">
                        <input type="text" placeholder="Search client " class="input form-control">
                                <span class="input-group-btn">
                                        <button type="button" class="btn btn btn-primary"> <i class="fa fa-search"></i> Search</button>
                                </span>
                    </div>

    </div>


                             <div uib-collapse="newMailDialog">
                                            
                                                    <div class="mail-box">


            <div class="mail-body">

                <form class="form-horizontal" method="get">
                    <div class="form-group"><label class="col-sm-2 control-label">To:</label>

                        <div class="col-sm-10"><input ng-model="recp" type="text" class="form-control" value="alex.smith@corporat.com"></div>
                    </div>
                    <div class="form-group"><label class="col-sm-2 control-label">Subject:</label>

                        <div class="col-sm-10"><input ng-model="email.subject" type="text" class="form-control" value=""></div>
                    </div>
                </form>

            </div>

            <div class="mail-text h-300">

                <div ng-model="email.body" summernote class="summernote">
                    <h3>Hello Jonathan! </h3>
                    dummy text of the printing and typesetting industry. <strong>Lorem Ipsum has been the industry's</strong> standard dummy text ever since the 1500s,
                    when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic
                    typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with
                    <br/>
                    <br/>

                </div>
                <div class="clearfix"></div>
            </div>
            <div class="mail-body text-right tooltip-demo">
                <a class="btn btn-sm btn-primary" data-toggle="tooltip" data-placement="top" title="Send" ng-click="sendMail(email,recp)"><i class="fa fa-reply"></i> Send</a>
                <a class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Discard email"><i class="fa fa-times"></i> Discard</a>
                <a class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Move to draft folder"><i class="fa fa-pencil"></i> Draft</a>
            </div>
            <div class="clearfix"></div>


        </div>


                        </div>
        <div class="ibox-content">

            <div class="feed-activity-list">

                <div class="feed-element" ng-repeat="email in activeTicket.attachedMails" >
                    <div>
                        <small class="pull-right text-navy">1m ago</small>
                        <strong>{{email.fromEmail}} </strong>
                        <div>{{email.subject}} </div>
                         <div uib-collapse="isCollapsed">
                                            <br>

                        Appen har inte bra koll på var man är i förhållande till arbetsplatserna. Jag testade att checka in långt från SEB och det gick självklart inte, men när jag sen kom till SEB, så gick det inte heller, utan jag var tvungen att manuellt uppdatera listan med arbetsplatser för att appen skulle förstå att jag var på SEB. För mycket tamagotchi över det hela

                        </div>

                        <span class="pull-right"><a>Reply</a></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </uib-tab>
            <uib-tab heading="Timeline" class="dsads">


    </uib-tab>


    <uib-tab heading="Last activity">
        <table class="table table-striped">
            <thead>
            <tr>
                <th>Status</th>
                <th>Title</th>
                <th>Start Time</th>
                <th>End Time</th>
                <th>Comments</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>
                    <span class="label label-primary"><i class="fa fa-check"></i> Completed</span>
                </td>
                <td>
                    Create project in webapp
                </td>
                <td>
                    12.07.2014 10:10:1
                </td>
                <td>
                    14.07.2014 10:16:36
                </td>
                <td>
                    <p class="small">
                        Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable.
                    </p>
                </td>

            </tr>
            <tr>
                <td>
                    <span class="label label-primary"><i class="fa fa-check"></i> Accepted</span>
                </td>
                <td>
                    Various versions
                </td>
                <td>
                    12.07.2014 10:10:1
                </td>
                <td>
                    14.07.2014 10:16:36
                </td>
                <td>
                    <p class="small">
                        Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).
                    </p>
                </td>

            </tr>
            <tr>
                <td>
                    <span class="label label-primary"><i class="fa fa-check"></i> Sent</span>
                </td>
                <td>
                    There are many variations
                </td>
                <td>
                    12.07.2014 10:10:1
                </td>
                <td>
                    14.07.2014 10:16:36
                </td>
                <td>
                    <p class="small">
                        There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which
                    </p>
                </td>

            </tr>
            <tr>
                <td>
                    <span class="label label-primary"><i class="fa fa-check"></i> Reported</span>
                </td>
                <td>
                    Latin words
                </td>
                <td>
                    12.07.2014 10:10:1
                </td>
                <td>
                    14.07.2014 10:16:36
                </td>
                <td>
                    <p class="small">
                        Latin words, combined with a handful of model sentence structures
                    </p>
                </td>

            </tr>
            <tr>
                <td>
                    <span class="label label-primary"><i class="fa fa-check"></i> Accepted</span>
                </td>
                <td>
                    The generated Lorem
                </td>
                <td>
                    12.07.2014 10:10:1
                </td>
                <td>
                    14.07.2014 10:16:36
                </td>
                <td>
                    <p class="small">
                        The generated Lorem Ipsum is therefore always free from repetition, injected humour, or non-characteristic words etc.
                    </p>
                </td>

            </tr>
            <tr>
                <td>
                    <span class="label label-primary"><i class="fa fa-check"></i> Sent</span>
                </td>
                <td>
                    The first line
                </td>
                <td>
                    12.07.2014 10:10:1
                </td>
                <td>
                    14.07.2014 10:16:36
                </td>
                <td>
                    <p class="small">
                        The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section 1.10.32.
                    </p>
                </td>

            </tr>
            <tr>
                <td>
                    <span class="label label-primary"><i class="fa fa-check"></i> Reported</span>
                </td>
                <td>
                    The standard chunk
                </td>
                <td>
                    12.07.2014 10:10:1
                </td>
                <td>
                    14.07.2014 10:16:36
                </td>
                <td>
                    <p class="small">
                        The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested.
                    </p>
                </td>

            </tr>
            <tr>
                <td>
                    <span class="label label-primary"><i class="fa fa-check"></i> Completed</span>
                </td>
                <td>
                    Lorem Ipsum is that
                </td>
                <td>
                    12.07.2014 10:10:1
                </td>
                <td>
                    14.07.2014 10:16:36
                </td>
                <td>
                    <p class="small">
                        Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable.
                    </p>
                </td>

            </tr>
            <tr>
                <td>
                    <span class="label label-primary"><i class="fa fa-check"></i> Sent</span>
                </td>
                <td>
                    Contrary to popular
                </td>
                <td>
                    12.07.2014 10:10:1
                </td>
                <td>
                    14.07.2014 10:16:36
                </td>
                <td>
                    <p class="small">
                        Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical
                    </p>
                </td>

            </tr>

            </tbody>
        </table>
    </uib-tab>



</uib-tabset>

</div>
</div>
</div>


            </div>


        </div>
    </div>

    <div class="wrapper wrapper-content" ng-hide="showTicket">
        <div class="row">
            
                <div class="col-md-12">
                         <div class="ibox float-e-margins">
                             <div class="ibox-title">
                                <h5>Ticket list</h5>
                                <button type="button" class="btn btn-primary btn-xs pull-right"><i class="fa fa-plus"></i>Add new ticket</button>
                            </div>
                            <div class="ibox-content">
                                <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper form-inline dt-bootstrap">
                                 <div id="DataTables_Table_0_filter" class="dataTables_filter">
                                   <div class="input-group col-md-12">
                                       <input type="text" class="form-control" placeholder="Search ticket by name..." ng-model="globalSearch.$">
                                       <div class="input-group-btn">
                                            <button type="button" class="btn btn-default btn-outline"><i class="fa fa-search"></i>Search</button>
                                       </div>
                                    </div>
                                </div>
                                </div>
                              
                                <a ng-click="isCollapsed = !isCollapsed">
                                        <button type="button" class="btn btn-primary" style="margin-top:10px;">
                                            <i class="fa fa-eye"></i>Show filters</button>
                                    </a>
                                        <!--Advanced filters start-->
                                    <div ng-if="isCollapsed">
                                            <form role="form" class="form-inline">
                                                <div class="form-group" style="margin-right:10px;">
                                                    <!--status-->
                                                    <h4>Status</h4>
                                                    <div class="input-group">
                                                        <input type="text" placeholder="Status..." class="form-control" ng-model="globalSearch.update">
                                                    </div> 
                                                </div>
                                                <div class="form-group" style="margin-right:10px;">
                                                    <!--ticket-->
                                                    <h4>Ticket</h4>
                                                    <div class="input-group">
                                                        <input type="text" placeholder="Ticket..." class="form-control" ng-model="globalSearch.number">
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:10px;">
                                                   <h4>Team</h4>
                                                    <div class="input-group">
                                                        <input type="text" placeholder="Team..." class="form-control" ng-model="globalSearch.team">
                                                    </div> 
                                                </div>
                                                <div class="form-group" style="margin-right:10px;">
                                                <!--created-->
                                                    <h4>Created</h4>
                                                    <div id="reportrange" class="form-control" ng-model="globalSearch.created">
                                                        <i class="fa fa-calendar"></i>
                                                        <span>April 22, 2016 - May 21, 2016</span> <b class="caret"></b>
                                                    </div>
                                                </div>                                               
                                            </form>
                                            <form role="form" class="form-inline">
                                                <div class="form-group" style="margin-right:10px;">
                                                    <!--priority-->
                                                    <h4>Priority</h4>
                                                    <div class="input-group">
                                                        <input type="text" placeholder="Priority..." class="form-control" ng-model="globalSearch.priority">
                                                    </div> 
                                                </div>
                                                <div class="form-group" style="margin-right:10px;">
                                                    <!--client-->
                                                    <h4>Client</h4>
                                                    <div class="input-group">
                                                        <input type="text" placeholder="Client..." class="form-control" ng-model="globalSearch.client">
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:10px;">
                                                    <!--person-->
                                                    <h4>Person</h4>
                                                    <div class="input-group">
                                                        <input type="text" placeholder="Person..." class="form-control">
                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-right:10px;">
                                                <!--deadline-->
                                                <h4>Deadline</h4>
                                                    <div id="reportrange" class="form-control">
                                                        <i class="fa fa-calendar"></i>
                                                        <span>April 22, 2016 - May 21, 2016</span> <b class="caret"></b>
                                                    </div>    
                                                </div>                                               
                                            </form> 
                                            <!--Button group start-->
                                            <div style="margin-top:10px;">
                                                <button type="button" class="btn btn-warning">
                                                    <i class="fa fa-eye-slash"></i>
                                                    Hide filters
                                                </button>
                                                <button type="button" class="btn btn-info" style="margin-left:10px;">
                                                    <i class="fa fa-floppy-o"></i>
                                                    Save filters
                                                </button> 
                                            </div>
                                             <!--Button group end-->
                                        </div>
                                    <!--Advanced filters end-->
                                 <div class="dataTables_info" id="DataTables_Table_0_info" role="status" aria-live="polite">Found tickets</div>
                                <table class="table table-striped table-bordered table-hover dataTables-example dataTable" id="DataTables_Table_0" aria-describedby="DataTables_Table_0_info" role="grid">
                                    <thead>
                                        <tr>
                                            <th>Status<i class="fa fa-sort-amount-asc pull-right"></i>
                                            </th>
                                            <th>Priority<i class="fa fa-sort-amount-asc pull-right"></i></th>
                                            <th>Ticket<i class="fa fa-sort-amount-asc pull-right"></i></th>
                                            <th>Client<i class="fa fa-sort-amount-asc pull-right"></i></th>
                                            <th>Team<i class="fa fa-sort-amount-asc pull-right"></i></th>
                                            <th>Person<i class="fa fa-sort-amount-asc pull-right"></i></th>
                                            <th>Created<i class="fa fa-sort-amount-asc pull-right"></i></th>
                                            <th>Deadline<i class="fa fa-sort-amount-asc pull-right"></i></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="ticket in tickets | limitTo:10 | filter:globalSearch"  role="row"> <!--sets display limit of 10 tickets per page-->
                                            <td>
                                                <button type="button" class="btn btn-xs" ng-class="{'btn-success': ticket.update === 'new', 'btn-warning': ticket.update === 'overdue', 'btn-default': ticket.update === 'closed'}">{{ticket.update | uppercase}}</button>
                                            </td>
                                            <td>
                                                <button type="button" class="btn btn-xs btn-outline" ng-class="{'btn-danger': ticket.priority === 'high', 'btn-warning': ticket.priority === 'mid', 'btn-info': ticket.priority === 'low'}">{{ticket.priority |uppercase}}</button>
                                            </td>
                                            <td>
                                                {{ticket.number | uppercase}} 
                                            </td>
                                            <td>
                                                {{ticket.client}}
                                            </td>
                                            <td>
                                                {{ticket.team}}
                                            </td>
                                            <td>
                                                {{ticket.person}}
                                            </td>
                                            <td>
                                                {{ticket.created}}
                                            </td>
                                            <td>
                                                {{ticket.deadline}}
                                            </td>
                                        </tr>
                                    </tbody>
                                     <!--pagination start-->           
                                    <div class="dataTables_paginate paging_simple_numbers" id="DataTables_Table_0_paginate">
                                        <ul class="pagination">
                                            <li class="paginate_button previous disabled" id="DataTables_Table_0_previous">
                                                <a href="#" aria-controls="DataTables_Table_0" data-dt-idx="0" tabindex="0">Previous</a>
                                            </li>
                                            <li class="paginate_button active">
                                                <a href="#" aria-controls="DataTables_Table_0" data-dt-idx="1" tabindex="0">1</a>
                                            </li>
                                            <li class="paginate_button ">
                                                <a href="#" aria-controls="DataTables_Table_0" data-dt-idx="2" tabindex="0">2</a>
                                            </li>
                                            <li class="paginate_button ">
                                                <a href="#" aria-controls="DataTables_Table_0" data-dt-idx="3" tabindex="0">3</a>
                                            </li>
                                            <li class="paginate_button ">
                                                <a href="#" aria-controls="DataTables_Table_0" data-dt-idx="4" tabindex="0">4</a>
                                            </li>
                                            <li class="paginate_button ">
                                                <a href="#" aria-controls="DataTables_Table_0" data-dt-idx="5" tabindex="0">5</a>
                                            </li>
                                            <li class="paginate_button ">
                                                <a href="#" aria-controls="DataTables_Table_0" data-dt-idx="6" tabindex="0">6</a>
                                            </li>
                                            <li class="paginate_button next" id="DataTables_Table_0_next"><a href="#" aria-controls="DataTables_Table_0" data-dt-idx="7" tabindex="0">Next</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <!--pagination end--> 
                            </table> 
                        </div>
                    </div>
                </div>
            </div>
                    
           
</div>
